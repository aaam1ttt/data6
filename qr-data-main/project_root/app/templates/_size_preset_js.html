<script>
(function(){
  const PRESETS={ 
    QR:[
      {v:472,l:'15×15 мм'},
      {v:630,l:'20×20 мм'}, 
      {v:787,l:'25×25 мм'},
      {v:945,l:'30×30 мм'}
    ],
    DM:[
      {v:378,l:'12×12 мм'},
      {v:472,l:'15×15 мм'},
      {v:630,l:'20×20 мм'},
      {v:787,l:'25×25 мм'}
    ],
    C128:[
      {v:378,l:'12 мм высота'},
      {v:472,l:'15 мм высота'},
      {v:630,l:'20 мм высота'}
    ],
    PDF417:[
      {v:378,l:'12 мм высота'},
      {v:472,l:'15 мм высота'},
      {v:630,l:'20 мм высота'}
    ],
    AZTEC:[
      {v:472,l:'15×15 мм'},
      {v:630,l:'20×20 мм'},
      {v:787,l:'25×25 мм'},
      {v:945,l:'30×30 мм'}
    ]
  };
  function fill(select, type, current){
    select.innerHTML='';
    (PRESETS[type]||PRESETS.QR).forEach((p,i)=>{
      const opt=document.createElement('option'); opt.value=p.v; opt.textContent=p.l;
      if (current ? String(p.v)==String(current) : i===0) opt.selected=true;
      select.appendChild(opt);
    });
  }
  window._initSizePreset = function(typeSelId, sizeSelId, currentSize){
    const t=document.getElementById(typeSelId);
    const s=document.getElementById(sizeSelId);
    fill(s, t.value, currentSize);
    t.addEventListener('change', ()=>fill(s, t.value));
  }
})();
</script>
